## Core Frameworks and Libraries

This section details the core frameworks and libraries that form the backbone of the "gil_teacher" application.

### Kratos

Kratos serves as the primary microservice framework for the "gil_teacher" project. It provides the fundamental structure for building robust and maintainable services.

*   **Application Structuring:** As seen in `app/server/server.go`, Kratos is used to define the application's lifecycle and integrate different server types (HTTP and gRPC). The `kratos.New()` function initializes the application instance, configuring its ID, name, version, metadata, logger, and the servers it will manage.
*   **Service Orchestration:** The `main/gil_teacher/main.go` file demonstrates the initialization and execution of the Kratos application. The `wireApp` function (generated by Google Wire) is responsible for constructing the application with all its dependencies, and `app.Run()` starts the service, listening for incoming requests and system signals.
*   **Middleware Integration:** Kratos allows for the integration of middleware to handle cross-cutting concerns such as logging, tracing, and recovery. This is typically configured during server setup.
*   **Dependency Injection:** Kratos is designed to work seamlessly with dependency injection frameworks like Google Wire, as evidenced by the `wireApp` function's role in assembling the application.

### Gin

Gin is a high-performance HTTP web framework used for building the API endpoints within the "gil_teacher" project. It is integrated into the Kratos application lifecycle to handle HTTP requests.

*   **HTTP Server Implementation:** The `app/server/http_server.go` file shows the `NewGinHttpServer` function, which sets up an HTTP server using Gin. A Gin engine (`gin.Engine`) is created, configured with global middleware (e.g., for tracing, logging, CORS in `GinGlobalMiddleware`), and then attached to the Kratos HTTP server instance via `srv.HandlePrefix("/", ginR)`.
*   **Routing:** Gin's routing capabilities are utilized in `app/router/router.go` (typically via a function like `RegisterRouter` which is then called by `NewGinHttpServer` or a similar setup function). This file would define the various API routes, mapping HTTP methods and paths to specific handler functions within the controllers.

### Google Wire

Google Wire is a compile-time dependency injection framework used to manage and inject dependencies throughout the "gil_teacher" application. This promotes loose coupling and improves code maintainability and testability.

*   **Dependency Graph Definition:** The `main/gil_teacher/wire.go` file defines how components of the application should be constructed and wired together. It uses `wire.Build` along with various "ProviderSets" (e.g., `server.ServerProviderSet`, `daoProvider.RepoProviderSet`, `serviceProvider.ServiceProviderSet`). These sets group functions (providers) that know how to create instances of specific types (e.g., database connections, service clients, repositories).
*   **Code Generation:** Wire analyzes these definitions at compile time and generates the Go code necessary to perform the injections. This generated code is found in `main/gil_teacher/wire_gen.go`. The `wireApp` function in this file is the main injector, which instantiates and connects all the necessary components (like servers, services, DAOs, and configuration objects) to build the complete Kratos application instance. This eliminates the need for manual dependency injection, reducing boilerplate and potential runtime errors.

### GORM

GORM (Go Object Relational Mapper) is utilized as the ORM for interacting with relational databases within the "gil_teacher" project. It provides a convenient API for database operations, abstracting away raw SQL queries for common tasks.

*   **Database Configuration:** The `app/conf/conf.go` file, specifically within the `Data` struct, defines configurations for various database connections, including `PostgreSQL` (e.g., `PostgreSQLWrite`, `PostgreSQLRead`) and `MySQL` (e.g., `ActivityWrite`, `ActivityRead`). This indicates that GORM is likely used to interact with these specific database types.
*   **DAO Implementation:** While GORM is not explicitly named in every DAO constructor, its usage is heavily implied by the structure of the application, particularly in the `main/gil_teacher/wire_gen.go` file. Functions like `dao.NewActivityDB(...)` and `dao.NewPostgreSQLClient(...)` followed by `providers3.ProvidePostgreSQLDB(...)` which then feed into DAO initializers (e.g., `providers3.NewResourceDAO(db, ...)`), are standard patterns for setting up database connections that GORM would consume. DAOs (Data Access Objects) encapsulate the data persistence logic, and GORM would be the tool used within these DAOs to perform CRUD (Create, Read, Update, Delete) operations against the configured databases.
